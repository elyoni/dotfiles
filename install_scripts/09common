#!/usr/bin/env bash

# Source generic software installation script
SCRIPT_DIR=$(dirname "${BASH_SOURCE[0]}")
if [ -f "${SCRIPT_DIR}/../utils/install_generic_software.sh" ]; then
    source "${SCRIPT_DIR}/../utils/install_generic_software.sh"
    # Ensure generic software is installed before proceeding
    ensure_generic_software
fi

function install_package(){
    local package_name="${1}"
    local package_path="${2}"
    local package_install_file="${package_path}"/install

    echo "===== Start: Install ${package_name} ====="
    bash "${package_install_file}" install
    if ! bash "${package_install_file}" verify; then
        summary+="${package_name} verification failed\n"
    fi
    echo "===== End: Install ${package_name} ====="
}
