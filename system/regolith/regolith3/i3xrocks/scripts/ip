#!/bin/bash

# Get the main interface
INTERFACE=$(ip route | grep '^default' | awk '{print $5}' | head -n 1)

# Get the IP address of the interface
IP=$(ip addr show "$INTERFACE" | grep 'inet ' | awk '{print $2}' | cut -d/ -f1)
STATE=$(ip link show "$INTERFACE" | grep 'state' | awk '{print $9}')

if [[ "$STATE" == "DOWN" ]]; then
    ICON="‚ùå"
else
    if [ -d "/sys/class/net/$INTERFACE/wireless" ]; then
        ICON="üì∂"  # Wireless icon
    else
        ICON="üîå"  # Wired icon
    fi
fi

# Print the icon and IP address
if [[ -z "$IP" ]]; then
    echo "${ICON}No IP Address (Not connected)"
else
    echo "${ICON}${IP}"
fi
